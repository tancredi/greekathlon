;(function(e,t,n){function i(n,s){if(!t[n]){if(!e[n]){var o=typeof require=="function"&&require;if(!s&&o)return o(n,!0);if(r)return r(n,!0);throw new Error("Cannot find module '"+n+"'")}var u=t[n]={exports:{}};e[n][0].call(u.exports,function(t){var r=e[n][1][t];return i(r?r:t)},u,u.exports)}return t[n].exports}var r=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i})({1:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var Game, bind, clickables, db, device, init, onDeviceReady, renderer, views;

  Game = require('./controllers/Game').Game;

  device = require('./core/device');

  clickables = require('./ui/clickables');

  db = require('./core/db');

  renderer = require('./core/renderer');

  views = require('./core/views');

  views.load({
    home: require('./views/HomeView').HomeView,
    output: require('./views/OutputView').OutputView
  });

  renderer.templates = window.templates;

  init = function() {
    if (device.get('type') != null) {
      return bind();
    } else {
      return onDeviceReady();
    }
  };

  bind = function() {
    return document.addEventListener('deviceready', onDeviceReady, false);
  };

  onDeviceReady = function() {
    var view;
    clickables.initialise();
    db.initialise();
    return view = views.open('home');
  };

  init();

}).call(this);

},{"./controllers/Game":2,"./core/device":3,"./ui/clickables":4,"./core/db":5,"./core/renderer":6,"./core/views":7,"./views/HomeView":8,"./views/OutputView":9}],3:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var device, onResize;

  device = {
    type: window.navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),
    size: null,
    clickEvent: null
  };

  device.clickEvent = device.type != null ? 'touchend' : 'click';

  onResize = function() {
    return device.size = {
      width: $(window).innerWidth(),
      height: $(window).innerHeight()
    };
  };

  $(window).on('resize', onResize);

  onResize();

  module.exports = {
    get: function(prop) {
      switch (prop) {
        case 'type':
          return device.type;
        case 'size':
          return device.size;
        case 'clickEvent':
          return device.clickEvent;
        case 'center':
          return {
            x: device.size.width / 2,
            y: device.size.height / 2
          };
      }
    }
  };

}).call(this);

},{}],5:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {

  module.exports = {
    initialise: function() {
      var _this = this;
      this.db = window.openDatabase("diary", 1, "diary", 1000000);
      return this.db.transaction(function(t) {
        return t.executeSql('create table if not exists digits(' + 'id INTEGER PRIMARY KEY AUTOINCREMENT, value TEXT' + ')');
      }, this.onError);
    },
    onError: function(e) {
      return console.log('DB ERROR:', e);
    },
    query: function(queryStr, options, callback) {
      var _this = this;
      if (options == null) {
        options = [];
      }
      return this.db.transaction(function(t) {
        return t.executeSql(queryStr, options, function(t, results) {
          results = results ? _this.fixResults(results) : null;
          if (typeof callback === 'function') {
            return callback(results);
          }
        }, _this.onError);
      }, this.onError);
    },
    fixResults: function(res) {
      var i, item, result, row, _i, _len, _ref;
      result = [];
      _ref = res.rows;
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        item = _ref[i];
        row = res.rows.item(i);
        result.push(row);
      }
      return result;
    },
    select: function(table, conditions, options, callback) {
      var conditionStr, dir, key, queryStr, value;
      if (conditions == null) {
        conditions = {};
      }
      if (options == null) {
        options = {};
      }
      queryStr = "SELECT * FROM " + table;
      conditionStr = ((function() {
        var _results;
        _results = [];
        for (key in conditions) {
          value = conditions[key];
          _results.push("" + key + " = '" + value + "'");
        }
        return _results;
      })()).join(', ');
      if (conditionStr.length) {
        queryStr += " WHERE " + conditionStr;
      }
      if (options.order != null) {
        dir = options.order[1] > 0 ? 'ASC' : 'DESC';
        queryStr += " ORDER BY " + options.order[0] + " " + dir;
      }
      if (options.limit != null) {
        queryStr += " LIMIT " + options.limit;
      }
      return this.query(queryStr, [], callback);
    },
    insert: function(table, values, callback) {
      var key, keys, val;
      if (values == null) {
        values = {};
      }
      keys = ((function() {
        var _results;
        _results = [];
        for (key in values) {
          val = values[key];
          _results.push(key);
        }
        return _results;
      })()).join(', ');
      values = ((function() {
        var _results;
        _results = [];
        for (key in values) {
          val = values[key];
          _results.push("'" + val + "'");
        }
        return _results;
      })()).join(', ');
      return this.query("INSERT INTO " + table + "(" + keys + ") values(" + values + ")", [], callback);
    }
  };

}).call(this);

},{}],6:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {

  module.exports = {
    templates: {},
    compile: function(tpl) {
      var template;
      if (typeof template === 'function') {
        return template = tpl;
      } else {
        return Handlebars.compile(tpl);
      }
    },
    set: function(id, template) {
      return this.templates[id] = typeof template === 'string' ? this.compile(template) : template;
    },
    get: function(nsString) {
      if (nsString == null) {
        nsString = null;
      }
      if (nsString != null) {
        return this.templates[nsString];
      } else {
        return this.templates;
      }
    },
    render: function(id, data) {
      if (this.get(id) != null) {
        return this.get(id)(data);
      } else {
        throw "Template '" + id + "' not found";
      }
    }
  };

}).call(this);

},{}],2:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var Game, Orb, attractionRange, defaults, detractionRange, device, geo,
    _this = this;

  geo = require('../helpers/geometry');

  device = require('../core/device');

  Orb = require('./Orb').Orb;

  detractionRange = 30;

  attractionRange = 60;

  defaults = {
    orbsCount: 6
  };

  Game = (function() {

    function Game(options) {
      var _this = this;
      this.getInitialVector = function(index) {
        return Game.prototype.getInitialVector.apply(_this, arguments);
      };
      this.getRelativeVector = function(orb, target) {
        return Game.prototype.getRelativeVector.apply(_this, arguments);
      };
      this.applyForces = function() {
        return Game.prototype.applyForces.apply(_this, arguments);
      };
      this.resetPositions = function() {
        return Game.prototype.resetPositions.apply(_this, arguments);
      };
      this.generateOrbs = function() {
        return Game.prototype.generateOrbs.apply(_this, arguments);
      };
      options = $.extend(true, {}, defaults, options);
      this.display = options.display;
      this.orbsCount = options.orbsCount;
      this.orbs = [];
      this.generateOrbs();
      this.applyForces();
      this.bind();
    }

    Game.prototype.bind = function() {
      var self;
      self = this;
      return this.display.on(device.get('clickEvent'), '[data-role="orb"]', function() {
        $(this).data('orb').switchState();
        return self.applyForces();
      });
    };

    Game.prototype.generateOrbs = function() {
      var i, orb, _i, _ref, _results;
      _results = [];
      for (i = _i = 0, _ref = this.orbsCount - 1; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
        orb = new Orb(0, 0);
        this.orbs.push(orb);
        _results.push(this.display.append(orb.element));
      }
      return _results;
    };

    Game.prototype.resetPositions = function() {
      var i, orb, _i, _len, _ref, _results;
      _ref = this.orbs;
      _results = [];
      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
        orb = _ref[i];
        orb.x = 0;
        orb.y = 0;
        orb.applyVector(this.getInitialVector(i));
        _results.push(orb.update(true));
      }
      return _results;
    };

    Game.prototype.applyForces = function() {
      var i, orb, relativeVector, summedVectors, target, vectors, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;
      summedVectors = [];
      this.resetPositions();
      _ref = this.orbs;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        orb = _ref[_i];
        vectors = [];
        _ref1 = this.orbs;
        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
          target = _ref1[_j];
          if (target !== orb) {
            relativeVector = this.getRelativeVector(orb, target);
            if (relativeVector != null) {
              vectors.push(relativeVector);
            }
          }
        }
        summedVectors.push(geo.sumVectors(vectors));
      }
      _ref2 = this.orbs;
      _results = [];
      for (i = _k = 0, _len2 = _ref2.length; _k < _len2; i = ++_k) {
        orb = _ref2[i];
        orb.applyVector(summedVectors[i]);
        _results.push(orb.update());
      }
      return _results;
    };

    Game.prototype.getRelativeVector = function(orb, target) {
      var angleDeg, angleRad, dist, force;
      dist = geo.getDistance(target, orb);
      force = null;
      if (target.getState() === 'attractor' && dist < attractionRange) {
        force = (dist - attractionRange) / 2;
        angleRad = Math.atan2(orb.y - target.y, orb.x - target.x);
      } else if (target.getState() === 'detractor' && dist < detractionRange) {
        force = (dist - detractionRange) / 2;
        angleRad = Math.atan2(target.y - orb.y, target.x - orb.x);
      }
      if (force != null) {
        angleDeg = geo.radToDeg(angleRad);
        return geo.degToVector(angleDeg, force);
      }
      return null;
    };

    Game.prototype.getInitialVector = function(index) {
      var deg, vector;
      deg = (360 / this.orbsCount) * index;
      vector = geo.degToVector(deg, 5);
      return vector;
    };

    return Game;

  })();

  module.exports = {
    Game: Game
  };

}).call(this);

},{"../helpers/geometry":10,"../core/device":3,"./Orb":11}],4:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var activeStateDuration, classNames, clickables, device;

  device = require('../core/device');

  clickables = 'a, .button, button, input, .touchable, .clickable';

  classNames = {
    touchActive: 'touch-active'
  };

  activeStateDuration = 200;

  module.exports = {
    initialise: function() {
      return this.bind();
    },
    bind: function() {
      var self;
      self = this;
      return $('body').on(device.get('clickEvent'), clickables, function() {
        return self.onClick($(this));
      });
    },
    onClick: function(element) {
      var _this = this;
      element.addClass(classNames.touchActive);
      return element.data('touchActiveTimer', setTimeout(function() {
        element.removeClass(classNames.touchActive);
        if (element.data('touchActiveTimer') != null) {
          return clearTimeout(element.data('touchActiveTimer'));
        }
      }, activeStateDuration));
    }
  };

}).call(this);

},{"../core/device":3}],7:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var getByRole, renderer, transitions;

  renderer = require('./renderer');

  getByRole = require('../helpers/dom').getByRole;

  transitions = require('./viewTransitions');

  module.exports = {
    wrap: $('#view-wrap'),
    current: null,
    shown: [],
    views: {},
    closeAll: function() {
      return getByRole('view', this.wrap).remove();
    },
    load: function(ns, view) {
      var routes, _results;
      if (typeof ns === 'object') {
        routes = ns;
        _results = [];
        for (ns in routes) {
          view = routes[ns];
          _results.push(this.load(ns, view));
        }
        return _results;
      } else {
        return this.views[ns] = view;
      }
    },
    open: function(ns, transition, callback, openOnTop, options) {
      var view;
      if (transition == null) {
        transition = null;
      }
      if (callback == null) {
        callback = null;
      }
      if (openOnTop == null) {
        openOnTop = false;
      }
      if (options == null) {
        options = {};
      }
      if (!openOnTop) {
        this.shown = [];
      }
      if ((transition != null) && this.animating) {
        return false;
      }
      if (typeof ns === 'object') {
        view = ns;
      } else {
        view = new this.views[ns](options);
      }
      if (view.elements == null) {
        view.render(this.wrap);
      } else {
        view.show();
      }
      if ((transition != null) && _.has(this.transitions, transition)) {
        this.applyTransition(view, transition, callback, openOnTop);
      } else {
        this.onShown(view, callback, openOnTop);
      }
      return view;
    },
    applyTransition: function(view, transition, callback, openOnTop) {
      var newViewStyle, oldViewStyle,
        _this = this;
      if (callback == null) {
        callback = null;
      }
      if (openOnTop == null) {
        openOnTop = false;
      }
      this.animating = true;
      oldViewStyle = this.current.elements.main.attr('style');
      newViewStyle = view.elements.main.attr('style');
      return this.transitions[transition](view, this.current, function() {
        _this.animating = false;
        _this.onShown(view, callback, openOnTop);
        _this.current.elements.main.stop();
        view.elements.main.stop();
        if (oldViewStyle) {
          _this.current.elements.main.attr('style', oldViewStyle);
        } else {
          _this.current.elements.main.removeAttr('style');
        }
        if (newViewStyle) {
          view.elements.main.attr('style', newViewStyle);
        } else {
          view.elements.main.removeAttr('style');
        }
        return _this.wrap.removeAttr('style');
      });
    },
    onShown: function(view, callback, openOnTop) {
      if (callback == null) {
        callback = null;
      }
      if (openOnTop == null) {
        openOnTop = false;
      }
      if (!openOnTop) {
        if (this.current != null) {
          this.current.close();
        }
      } else {
        this.current.hide();
      }
      this.shown.push(view);
      this.current = view;
      if (callback != null) {
        return callback(view);
      }
    },
    transitions: transitions
  };

}).call(this);

},{"./renderer":6,"../helpers/dom":12,"./viewTransitions":13}],8:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var BaseView, HomeView, db, device, generateDigitCtx, getByRole, renderer, views,
    _this = this,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  BaseView = require('../core/View').BaseView;

  getByRole = require('../helpers/dom').getByRole;

  device = require('../core/device');

  renderer = require('../core/renderer');

  views = require('../core/views');

  db = require('../core/db');

  generateDigitCtx = require('../helpers/system').generateDigitCtx;

  HomeView = (function(_super) {

    __extends(HomeView, _super);

    HomeView.prototype.templateName = 'home';

    function HomeView() {
      var _this = this;
      this.submit = function() {
        return HomeView.prototype.submit.apply(_this, arguments);
      };
      this.bind = function() {
        return HomeView.prototype.bind.apply(_this, arguments);
      };
      this.getElements = function() {
        return HomeView.prototype.getElements.apply(_this, arguments);
      };
    }

    HomeView.prototype.getElements = function() {
      HomeView.__super__.getElements.call(this);
      this.elements.form = this.elements.main.find('form');
      this.elements.input = getByRole('digit-input', this.elements.form);
      this.elements.button = this.elements.form.find('button');
      return this.elements.savedWrap = getByRole('saved-wrap', this.elements.main);
    };

    HomeView.prototype.bind = function() {
      var scrolling, self;
      HomeView.__super__.bind.call(this);
      self = this;
      this.elements.input.on('keydown', function(e) {
        var charCode, isAllowed, isNumber;
        charCode = e.which ? e.which : e.keyCode;
        isNumber = (charCode >= 48 && charCode <= 57) || charCode === 43;
        isAllowed = charCode === 8 || charCode === 13;
        if (!isNumber && !isAllowed) {
          return false;
        }
      });
      this.elements.input.on('change', function() {
        return self.submit();
      });
      this.elements.form.on('submit', function() {
        return false;
      });
      this.elements.button.on(device.get('clickEvent'), function() {
        self.submit();
        return false;
      });
      db.select('digits', {}, {
        order: ['id', -1]
      }, function(digits) {
        var ctx, entry, savedList, _i, _len;
        ctx = [];
        for (_i = 0, _len = digits.length; _i < _len; _i++) {
          entry = digits[_i];
          ctx.push(generateDigitCtx(entry.value));
        }
        savedList = $(renderer.render('saved-list', {
          entries: ctx
        }));
        return self.elements.savedWrap.append(savedList);
      });
      scrolling = null;
      this.elements.main.on('touchmove', '[data-role="saved-digits"]', function(e) {
        return scrolling = true;
      });
      this.elements.main.on('touchstart', '[data-role="saved-digits"]', function(e) {
        scrolling = false;
        return null;
      });
      return this.elements.main.on('touchend', '[data-role="saved-digits"]', function(e) {
        var digits;
        if (!scrolling) {
          digits = $(this).attr('data-digits');
          views.open('main.result', 'slide-right', null, false, digits);
        }
        scrolling = false;
        return true;
      });
    };

    HomeView.prototype.submit = function() {
      var digits;
      digits = this.elements.input.val();
      views.open('output', 'slide-right', null, false, digits);
      return db.insert('digits', {
        value: digits
      });
    };

    return HomeView;

  })(BaseView);

  module.exports = {
    HomeView: HomeView
  };

}).call(this);

},{"../core/View":14,"../helpers/dom":12,"../core/device":3,"../core/renderer":6,"../core/views":7,"../core/db":5,"../helpers/system":15}],9:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var BaseView, OutputView, device, generateDigitCtx, getByRole, views,
    _this = this,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  BaseView = require('../core/View').BaseView;

  getByRole = require('../helpers/dom').getByRole;

  generateDigitCtx = require('../helpers/system').generateDigitCtx;

  device = require('../core/device');

  views = require('../core/views');

  OutputView = (function(_super) {

    __extends(OutputView, _super);

    OutputView.prototype.templateName = 'result';

    OutputView.prototype.fixHeight = true;

    OutputView.prototype.classNames = 'view-results';

    OutputView.prototype.getElements = function() {
      OutputView.__super__.getElements.call(this);
      return this.elements.back = getByRole('back', this.elements.main);
    };

    function OutputView(digits) {
      var pairContexts,
        _this = this;
      this.bind = function() {
        return OutputView.prototype.bind.apply(_this, arguments);
      };
      this.getElements = function() {
        return OutputView.prototype.getElements.apply(_this, arguments);
      };
      pairContexts = generateDigitCtx(digits);
      $.extend(this.context, pairContexts);
    }

    OutputView.prototype.bind = function() {
      OutputView.__super__.bind.call(this);
      return this.elements.back.on(device.get('clickEvent'), function() {
        return views.open('home', 'slide-left');
      });
    };

    return OutputView;

  })(BaseView);

  module.exports = {
    OutputView: OutputView
  };

}).call(this);

},{"../core/View":14,"../helpers/dom":12,"../helpers/system":15,"../core/device":3,"../core/views":7}],10:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {

  module.exports = {
    radToDeg: function(rad) {
      return rad * (180 / Math.PI);
    },
    degToRad: function(deg) {
      return deg * (Math.PI / 180);
    },
    degToVector: function(deg, force) {
      var rad, vector;
      if (force == null) {
        force = 1;
      }
      rad = this.degToRad(deg);
      vector = {
        x: force * Math.cos(rad),
        y: force * Math.sin(rad)
      };
      return vector;
    },
    getDistance: function(a, b) {
      var xs, ys;
      xs = b.x - a.x;
      xs = xs * xs;
      ys = b.y - a.y;
      ys = ys * ys;
      return Math.abs(Math.sqrt(xs + ys));
    },
    sumVectors: function(vectors) {
      var angleDeg, anglesSumX, anglesSumY, deg, force, forceSum, vector, _i, _len;
      anglesSumX = 0;
      anglesSumY = 0;
      forceSum = 0;
      for (_i = 0, _len = vectors.length; _i < _len; _i++) {
        vector = vectors[_i];
        deg = Math.atan2(vector.y, vector.x);
        anglesSumX += Math.cos(deg);
        anglesSumY += Math.sin(deg);
        forceSum += Math.abs(vector.x) + Math.abs(vector.y);
      }
      angleDeg = Math.floor(this.radToDeg(Math.atan2(anglesSumY, anglesSumX)));
      force = forceSum;
      return this.degToVector(angleDeg, force);
    }
  };

}).call(this);

},{}],12:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {

  module.exports = {
    getByRole: function(role, parent, filter) {
      var selector;
      if (parent == null) {
        parent = null;
      }
      if (filter == null) {
        filter = '';
      }
      selector = "[data-role='" + role + "']" + filter;
      if (parent == null) {
        return $(selector);
      } else {
        return parent.find(selector);
      }
    }
  };

}).call(this);

},{}],11:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var Orb, device, renderer, states,
    _this = this;

  renderer = require('../core/renderer');

  device = require('../core/device');

  states = ['detractor', 'attractor'];

  Orb = (function() {

    function Orb(x, y) {
      var _this = this;
      this.update = function(animate) {
        if (animate == null) {
          animate = false;
        }
        return Orb.prototype.update.apply(_this, arguments);
      };
      this.applyVector = function(vector) {
        return Orb.prototype.applyVector.apply(_this, arguments);
      };
      this.place = function(x, y, animate) {
        if (animate == null) {
          animate = false;
        }
        return Orb.prototype.place.apply(_this, arguments);
      };
      this.getState = function() {
        return Orb.prototype.getState.apply(_this, arguments);
      };
      this.switchState = function() {
        return Orb.prototype.switchState.apply(_this, arguments);
      };
      this.element = $(renderer.render('partials/game/orb', this));
      this.element.data('orb', this);
      this.place(x, y);
      this.vector = {
        x: 0,
        y: 0
      };
      this.state = -1;
      this.switchState();
    }

    Orb.prototype.switchState = function() {
      var state, _i, _len;
      this.state++;
      if (this.state > states.length - 1) {
        this.state = 0;
      }
      for (_i = 0, _len = states.length; _i < _len; _i++) {
        state = states[_i];
        this.element.removeClass("state-" + state);
      }
      return this.element.addClass("state-" + states[this.state]);
    };

    Orb.prototype.getState = function() {
      return states[this.state];
    };

    Orb.prototype.place = function(x, y, animate) {
      var c, newPos;
      if (animate == null) {
        animate = false;
      }
      this.x = x;
      this.y = y;
      c = device.get('center');
      newPos = {
        x: c.x + x,
        y: c.y + y
      };
      if (!animate) {
        return this.element.css(newPos);
      } else {
        return this.element.transition(newPos, 200);
      }
    };

    Orb.prototype.applyVector = function(vector) {
      this.vector.x += vector.x;
      return this.vector.y += vector.y;
    };

    Orb.prototype.update = function(animate) {
      if (animate == null) {
        animate = false;
      }
      this.place(this.x + this.vector.x, this.y + this.vector.y, animate);
      return this.vector = {
        x: 0,
        y: 0
      };
    };

    return Orb;

  })();

  module.exports = {
    Orb: Orb
  };

}).call(this);

},{"../core/renderer":6,"../core/device":3}],13:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var debug, defaultDuration, device, horizontalSlide, placeAbsolutely, popView, wrap;

  device = require('./device');

  debug = require('./debug');

  defaultDuration = debug.get('fast') ? 0 : 400;

  wrap = $('#view-wrap');

  placeAbsolutely = function(view) {
    var deviceSize;
    deviceSize = device.get('size');
    return view.elements.main.css({
      position: 'absolute',
      top: 0,
      left: 0,
      width: deviceSize.width,
      height: deviceSize.height
    });
  };

  popView = function(scaleFrom, newView, oldView, callback, duration) {
    if (duration == null) {
      duration = defaultDuration;
    }
    placeAbsolutely(newView);
    newView.elements.main.css({
      scale: scaleFrom,
      opacity: 0
    });
    newView.elements.main.transition({
      scale: 1,
      opacity: 1
    });
    return setTimeout(function() {
      return callback(newView);
    }, defaultDuration);
  };

  horizontalSlide = function(dir, newView, oldView, callback, duration) {
    var deviceSize;
    if (duration == null) {
      duration = defaultDuration;
    }
    deviceSize = device.get('size');
    wrap.css({
      width: deviceSize.width,
      'overflow-x': 'hidden',
      position: 'relative'
    });
    placeAbsolutely(newView);
    newView.elements.main.css({
      x: (100 * dir) + '%'
    });
    newView.elements.main.transition({
      x: '0'
    }, duration);
    if (oldView != null) {
      oldView.elements.main.css({
        width: deviceSize.width,
        height: deviceSize.height
      });
      return oldView.elements.main.transition({
        x: (100 * -dir) + '%'
      }, duration, function() {
        return callback(newView);
      });
    }
  };

  module.exports = {
    'slide-right': function(newView, oldView, callback) {
      return horizontalSlide(1, newView, oldView, callback);
    },
    'slide-left': function(newView, oldView, callback) {
      return horizontalSlide(-1, newView, oldView, callback);
    },
    'flip': function(newView, oldView, callback) {
      var duration;
      duration = defaultDuration;
      placeAbsolutely(newView);
      oldView.elements.main.css({
        position: 'relative',
        'z-index': 1
      });
      newView.elements.main.css({
        'z-index': -1,
        rotateY: '-90deg',
        z: -500
      });
      oldView.elements.main.transition({
        rotateY: '90deg'
      }, duration / 2);
      return setTimeout(function() {
        return newView.elements.main.transition({
          rotateY: '0deg'
        }, duration / 2);
      }, duration / 2, function() {
        return callback(newView);
      });
    },
    'pop-out': function(newView, oldView, callback) {
      return popView(2.2, newView, oldView, callback);
    },
    'pop-in': function(newView, oldView, callback) {
      return popView(.7, newView, oldView, callback);
    }
  };

}).call(this);

},{"./device":3,"./debug":16}],14:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var BaseView, device, renderer,
    _this = this;

  renderer = require('./renderer');

  device = require('./device');

  BaseView = (function() {

    BaseView.prototype.templateName = '';

    BaseView.prototype.fixHeight = false;

    BaseView.prototype.classNames = '';

    BaseView.prototype.context = {};

    function BaseView() {
      var _this = this;
      this.show = function() {
        return BaseView.prototype.show.apply(_this, arguments);
      };
      this.hide = function() {
        return BaseView.prototype.hide.apply(_this, arguments);
      };
      this.close = function() {
        return BaseView.prototype.close.apply(_this, arguments);
      };
      this.bind = function() {
        return BaseView.prototype.bind.apply(_this, arguments);
      };
      this.resize = function() {
        return BaseView.prototype.resize.apply(_this, arguments);
      };
      this.getElements = function() {
        return BaseView.prototype.getElements.apply(_this, arguments);
      };
      this.render = function(wrapper) {
        return BaseView.prototype.render.apply(_this, arguments);
      };
    }

    BaseView.prototype.render = function(wrapper) {
      var rendered,
        _this = this;
      rendered = renderer.render("views/" + this.templateName, this.context);
      this.elements = {
        main: $("<div data-role='view' class='view " + this.classNames + "'>" + rendered + "</div>")
      };
      if (this.fixHeight) {
        this.elements.main.css({
          height: device.get('size').height
        });
      }
      this.getElements();
      if (wrapper != null) {
        this.elements.main.appendTo(wrapper);
      }
      this.resize();
      this.bind();
      $(window).on('resize', function() {
        return _this.resize();
      });
      return this;
    };

    BaseView.prototype.getElements = function() {};

    BaseView.prototype.resize = function() {};

    BaseView.prototype.bind = function() {};

    BaseView.prototype.close = function() {
      return this.elements.main.remove();
    };

    BaseView.prototype.hide = function() {
      return this.elements.main.hide();
    };

    BaseView.prototype.show = function() {
      this.elements.main.removeAttr('style');
      this.resize();
      return this.elements.main.show();
    };

    return BaseView;

  })();

  module.exports = {
    BaseView: BaseView
  };

}).call(this);

},{"./renderer":6,"./device":3}],15:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var generateDigitCtx, generateValCtx, map, vowels;

  map = require('../fixtures/map');

  vowels = ['a', 'e', 'i', 'o', 'u'];

  generateDigitCtx = function(digits) {
    var first, i, index, pair, pairContexts, pairs, second, str, _i, _j, _len, _ref;
    pairContexts = [];
    pairs = [];
    for (i = _i = 0, _ref = (digits.length - 1) / 2; 0 <= _ref ? _i <= _ref : _i >= _ref; i = 0 <= _ref ? ++_i : --_i) {
      first = digits[i * 2];
      second = digits[i * 2 + 1] || '';
      pairs.push("" + first + second);
    }
    for (_j = 0, _len = pairs.length; _j < _len; _j++) {
      pair = pairs[_j];
      index = parseInt(pair, 10);
      str = map[index];
      pairContexts.push(generateValCtx(pair, str));
    }
    return {
      pairs: pairContexts,
      digits: digits
    };
  };

  generateValCtx = function(pair, str) {
    var char, consParts, digit, digits, parts, temp, _i, _j, _len, _len1;
    parts = [];
    consParts = [];
    temp = {
      vow: false,
      val: ''
    };
    for (_i = 0, _len = str.length; _i < _len; _i++) {
      char = str[_i];
      if (vowels.indexOf(char) !== -1) {
        if (temp.val.length > 0) {
          parts.push(temp);
          consParts.push(temp);
        }
        temp = {
          vow: false,
          val: ''
        };
        parts.push({
          vow: true,
          val: char
        });
      } else {
        temp.val += char;
      }
    }
    if (temp.val.length > 0) {
      parts.push(temp);
      consParts.push(temp);
    }
    if (consParts.length > 0) {
      consParts[0].num = pair[0];
    }
    if (consParts.length > 1) {
      consParts[1].num = pair[1];
    }
    digits = [];
    for (_j = 0, _len1 = pair.length; _j < _len1; _j++) {
      digit = pair[_j];
      digits.push({
        num: digit
      });
    }
    return {
      parts: parts,
      digits: digits
    };
  };

  module.exports = {
    generateDigitCtx: generateDigitCtx,
    generateValCtx: generateValCtx
  };

}).call(this);

},{"../fixtures/map":17}],16:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var debug;

  debug = {
    fast: false
  };

  module.exports = {
    get: function(prop) {
      switch (prop) {
        case 'fast':
          return debug.fast;
      }
    }
  };

}).call(this);

},{}],17:[function(require,module,exports){
// Generated by CoffeeScript 1.6.1
(function() {
  var old;

  module.exports = ['suss', 'sad', 'sun', 'sum', 'sore', 'sail', 'slush', 'sick', 'sofa', 'soup', 'dose', 'dead', 'dine', 'dim', 'door', 'doll', 'dish', 'dick', 'dive', 'deep', 'noise', 'nude', 'neon', 'gnome', 'near', 'nail', 'nacho', 'neck', 'knife', 'nap', 'mess', 'mad', 'moon', 'mum', 'more', 'meal', 'mash', 'muck', 'muff', 'map', 'rose', 'ride', 'rain', 'rum', 'roar', 'roll', 'rush', 'rock', 'roof', 'rope', 'less', 'laid', 'lion', 'lime', 'lure', 'lol', 'lush', 'lick', 'lip', 'cheese', 'chat', 'china', 'chum', 'chair', 'chill', 'cha-cha', 'choke', 'chief', 'cheap', 'kiss', 'kid', 'keen', 'kim', 'korea', 'kill', 'kwatch', 'kick', 'koffee', 'keep', 'fuss', 'food', 'fun', 'fame', 'fur', 'fool', 'fish', 'fuck', 'five', 'fob', 'bees', 'bud', 'bin', 'boom', 'bear', 'ball', 'batch', 'book', 'beef', 'boob'];

  old = ['zoo', 'tie', 'Noah', 'Ma', 'Rye', 'Law', 'shoe', 'ivy', 'bee', 'toes', 'tot', 'tin', 'Tomb', 'tyre', 'Towel', 'Dish', 'Tack', 'dove', 'Tub', 'nose', 'net', 'nun', 'Name', 'nero', 'nail', 'notch', 'neck', 'knife', 'knob', 'Mice', 'mat', 'moon', 'mummy', 'mower', 'mule', 'match', 'mug', 'movie', 'mop', 'rose', 'rod', 'rain', 'Ram', 'Rower', 'roll', 'Roach', 'rock', 'roof', 'rope', 'lace', 'loot', 'lion', 'Loom', 'lure', 'lily', 'leech', 'log', 'lava', 'lip', 'cheese', 'sheet', 'chain', 'Chum', 'cherry', 'jail', 'Choo', 'chalk', 'chef', 'ship', 'Case', 'Cot', 'coin', 'comb', 'car', 'coal', 'cage', 'coke', 'cave', 'Cob', 'fez', 'Fit', 'phone', 'foam', 'Fur', 'file', 'fish', 'fog', 'FiFi', 'fob', 'bus', 'bat', 'bone', 'bum', 'bear', 'bell', 'beach', 'book', 'poof', 'pipe', 'Disease'];

}).call(this);

},{}]},{},[1])
;