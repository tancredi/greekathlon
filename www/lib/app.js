// Generated by CoffeeScript 1.6.1
(function() {
  var bind, clickables, db, device, init, models, onDeviceReady, renderer, views;

  device = require('./core/device');

  clickables = require('./ui/clickables');

  db = require('./core/db');

  renderer = require('./core/renderer');

  views = require('./core/views');

  models = require('./core/models');

  views.load({
    home: require('./views/HomeView'),
    output: require('./views/OutputView')
  });

  models.load({
    digits: require('./models/Digits')
  });

  renderer.templates = window.templates;

  init = function() {
    if (device.get('type') != null) {
      return bind();
    } else {
      return onDeviceReady();
    }
  };

  bind = function() {
    return document.addEventListener('deviceready', onDeviceReady, false);
  };

  onDeviceReady = function() {
    var _this = this;
    clickables.initialise();
    db.initialise();
    models.initialise();
    return models.onReady(function() {
      var view;
      return view = views.open('home');
    });
  };

  init();

}).call(this);
