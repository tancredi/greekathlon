// Generated by CoffeeScript 1.6.1
(function() {
  var bind, clickables, db, device, init, onDeviceReady, renderer, views;

  device = require('./core/device');

  clickables = require('./ui/clickables');

  db = require('./core/db');

  renderer = require('./core/renderer');

  views = require('./core/views');

  views.load({
    home: require('./views/HomeView').HomeView,
    output: require('./views/OutputView').OutputView
  });

  renderer.templates = window.templates;

  init = function() {
    if (device.get('type') != null) {
      return bind();
    } else {
      return onDeviceReady();
    }
  };

  bind = function() {
    return document.addEventListener('deviceready', onDeviceReady, false);
  };

  onDeviceReady = function() {
    var view;
    clickables.initialise();
    db.initialise();
    return view = views.open('home');
  };

  init();

}).call(this);
