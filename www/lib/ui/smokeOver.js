// Generated by CoffeeScript 1.6.1
(function() {
  var debug, defPreset, generateClouds, popText, scaleEndRatio, scaleStartRatio, smokeOver;

  debug = require('../core/debug');

  popText = require('./popText').popText;

  defPreset = {
    classNames: 'fx-smoke-01',
    scaleStart: .8,
    scale: 1,
    scaleEnd: .8,
    wait: 0,
    easeIn: 'easeInQuart',
    easeOut: 'easeInQuart',
    duration: 700,
    move: 0
  };

  scaleStartRatio = .2;

  scaleEndRatio = .2;

  generateClouds = [
    {
      offset: [-15, -10],
      scale: 1,
      rotate: '0',
      preset: '01',
      duration: 500,
      delay: 100,
      z: 2
    }, {
      offset: [-10, -15],
      scale: 1.3,
      rotate: '180deg',
      preset: '02',
      duration: 600,
      delay: 200,
      z: 1
    }, {
      offset: [-5, -5],
      scale: .9,
      rotate: '90deg',
      preset: '01',
      duration: 700,
      delay: 100,
      z: 3
    }, {
      offset: [25, 10],
      scale: .8,
      rotate: '-90deg',
      preset: '01',
      duration: 1000,
      delay: 0,
      z: 2
    }
  ];

  smokeOver = function(element) {
    var cloud, options, _i, _len, _results;
    _results = [];
    for (_i = 0, _len = generateClouds.length; _i < _len; _i++) {
      cloud = generateClouds[_i];
      options = $.extend(true, {}, defPreset, {
        offset: cloud.offset || [0, 0],
        scaleStart: cloud.scale ? cloud.scale * scaleStartRatio : scaleStartRatio,
        scale: cloud.scale || 1,
        scaleEnd: cloud.scale ? cloud.scale * scaleEndRatio : scaleEndRatio,
        duration: cloud.duration || 1000,
        wait: cloud.wait,
        z: cloud.z || null,
        classNames: cloud.preset ? "fx-smoke-" + cloud.preset : defPreset.classNames,
        target: element
      });
      _results.push((function(options) {
        var _this = this;
        return setTimeout((function() {
          return popText(options);
        }), cloud.delay);
      })(options));
    }
    return _results;
  };

  module.exports = {
    smokeOver: smokeOver
  };

}).call(this);
